# ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Daily Filter

## üéØ **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (daily) ‡∏£‡∏∞‡∏ö‡∏ö‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- SQL Server error: `Incorrect syntax near 'CAST', expected 'AS'`
- Daily filter ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
- ‚úÖ Daily filter ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç SQL syntax ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö SQL Server
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞

## üîß **‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥**

### 1. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç SQL Syntax ‡πÉ‡∏ô `/stats/dashboard`:
```sql
// ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
dateFilter = `AND CAST(insert_date AS DATE) = CAST(?)`;

// ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
dateFilter = `AND CONVERT(DATE, insert_date) = CONVERT(DATE, ?)`;
```

### 2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç SQL Syntax ‡πÉ‡∏ô `/repair-orders`:
```sql
// ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
sqlQuery += ` AND CAST(insert_date AS DATE) = CAST(?)`;

// ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
sqlQuery += ` AND CONVERT(DATE, insert_date) = CONVERT(DATE, ?)`;
```

## üìä **‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö**

### Daily Filter (2025-08-16):
```bash
# Stats Dashboard
curl "http://10.13.10.41:3001/api/repair-orders/stats/dashboard?date=2025-08-16&period=daily"
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚úÖ

# Repair Orders
curl "http://10.13.10.41:3001/api/repair-orders?date=2025-08-16&period=daily"
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚úÖ
```

### Monthly Filter (2025-08-16):
```bash
# Stats Dashboard
curl "http://10.13.10.41:3001/api/repair-orders/stats/dashboard?date=2025-08-16&period=monthly"
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 18 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚úÖ

# Repair Orders
curl "http://10.13.10.41:3001/api/repair-orders?date=2025-08-16&period=monthly"
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: 18 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚úÖ
```

## üéØ **‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**

### Daily Filter:
- **SQL Query**: `CONVERT(DATE, insert_date) = CONVERT(DATE, ?)`
- **‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°**: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞ (‡πÄ‡∏ä‡πà‡∏ô 2025-08-16)
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### Monthly Filter:
- **SQL Query**: `FORMAT(insert_date, 'yyyy-MM') = ?`
- **‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°**: ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏µ (‡πÄ‡∏ä‡πà‡∏ô 2025-08)
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### Yearly Filter:
- **SQL Query**: `YEAR(insert_date) = ?`
- **‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°**: ‡∏õ‡∏µ (‡πÄ‡∏ä‡πà‡∏ô 2025)
- **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏õ‡∏µ‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

## üöÄ **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**

### 1. **Daily Filter ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**:
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
- ‡πÑ‡∏°‡πà‡∏°‡∏µ SQL errors
- ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

### 2. **Monthly Filter ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

### 3. **Yearly Filter ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**:
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
- ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

## üìù **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏**

### SQL Server Compatibility:
- **CAST**: ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `CAST(column AS DATE)`
- **CONVERT**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `CONVERT(DATE, column)`
- **FORMAT**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö monthly filter
- **YEAR**: ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö yearly filter

### Performance:
- **CONVERT**: ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ CAST ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö SQL Server
- **Indexing**: ‡πÉ‡∏ä‡πâ index ‡πÑ‡∏î‡πâ‡∏î‡∏µ
- **Query Optimization**: SQL Server optimize ‡πÑ‡∏î‡πâ‡∏î‡∏µ

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!** üéâ
